/**
 * name: vue-picture-cropper-demo
 * version: v0.1.0
 * description: vA demo of vue-picture-cropper.
 * author: chengpeiquan
 */
import{B as h,M as E,k as v,U as B,p as F}from"./esm.a647e59d.js";import{_ as R,d as D,r as g,e as U,f as p,g as f,h as C,i as u,c as i,w as r,j as A,F as w,k as m}from"./index.d562943c.js";const L=D({components:{Button:h,Modal:E,VuePictureCropper:v,UploadOutlined:B},setup(){const e=g(null),t=g(""),l=U({dataURL:"",blobURL:""}),c=g(!1);return{uploadInput:e,pic:t,result:l,isShowDialog:c,selectFile:a=>{l.dataURL="",l.blobURL="";const o=a.target,{files:n}=o;if(!n)return;const d=n[0],s=new FileReader;s.readAsDataURL(d),s.onload=()=>{t.value=String(s.result),c.value=!0,e.value&&(e.value.value="")}},getResult:async()=>{const a=F.getDataURL(),o=await F.getBlob(),n=await F.getFile({fileName:"\u6D4B\u8BD5\u6587\u4EF6\u540D\uFF0C\u53EF\u4E0D\u4F20"});console.log({base64:a,blob:o,file:n}),l.dataURL=a;try{l.blobURL=URL.createObjectURL(o)}catch{l.blobURL=""}c.value=!1}}}}),k={class:"section"},M=u("div",{class:"desc"},[u("p",null,"\u56FA\u5B9A\u5C3A\u5BF8\u6A21\u5F0F\uFF1A\u88C1\u5207\u533A\u57DF\u5C3A\u5BF8\u56FA\u5B9A\uFF0C\u88C1\u5207\u7ED3\u679C\u548C\u88C1\u5207\u533A\u57DF\u5927\u5C0F\u4FDD\u6301\u4E00\u81F4"),u("a",{href:"https://github.com/chengpeiquan/vue-picture-cropper-demo/blob/main/src/views/fixed.vue",target:"_blank"},[u("span",null,"\u67E5\u770B\u672C DEMO \u6E90\u7801")])],-1),y=u("p",null,"\u8BF7\u5148\u70B9\u51FB\u6309\u94AE\u9009\u62E9\u56FE\u7247\uFF0C\u4F1A\u8FDB\u5165\u88C1\u5207\u5904\u7406\u73AF\u8282",-1),V=u("span",null,"\u9009\u62E9\u56FE\u7247",-1),S={key:0,class:"section"},N=u("p",null,"\u88C1\u5207\u540E\u7684 Base64 \u56FE\u7247\u9884\u89C8\uFF1A",-1),O={class:"preview"},P=["src"],$=u("p",null,"\u88C1\u5207\u540E\u7684 Blob \u56FE\u7247\u9884\u89C8\uFF1A",-1),j={class:"preview"},I=["src"],q=u("p",null,"\u53EF\u4EE5\u6309 F12 \u67E5\u770B\u6253\u5370\u7684 base64 / blob / file \u7ED3\u679C",-1),z=m("\u53D6\u6D88"),T=m("\u88C1\u5207");function G(e,t,l,c,_,b){const a=p("UploadOutlined"),o=p("Button"),n=p("VuePictureCropper"),d=p("Modal");return f(),C(w,null,[u("section",k,[M,y,i(o,{class:"select-picture"},{icon:r(()=>[i(a)]),default:r(()=>[V,u("input",{ref:"uploadInput",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",onChange:t[0]||(t[0]=(...s)=>e.selectFile&&e.selectFile(...s))},null,544)]),_:1})]),e.result.dataURL&&e.result.blobURL?(f(),C("section",S,[N,u("div",O,[u("img",{src:e.result.dataURL,alt:"\u7EC4\u5408\u5F0F API"},null,8,P)]),$,u("div",j,[u("img",{src:e.result.blobURL,alt:"\u7EC4\u5408\u5F0F API"},null,8,I)]),q])):A("",!0),i(d,{visible:e.isShowDialog,"onUpdate:visible":t[2]||(t[2]=s=>e.isShowDialog=s),title:"\u56FE\u7247\u88C1\u5207",maskClosable:!1},{footer:r(()=>[i(o,{onClick:t[1]||(t[1]=s=>e.isShowDialog=!1)},{default:r(()=>[z]),_:1}),i(o,{type:"primary",onClick:e.getResult},{default:r(()=>[T]),_:1},8,["onClick"])]),default:r(()=>[i(n,{boxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"},img:e.pic,options:{viewMode:1,dragMode:"move",aspectRatio:1,cropBoxResizable:!1},presetMode:{mode:"round",width:100,height:100}},null,8,["img"])]),_:1},8,["visible"])],64)}var K=R(L,[["render",G]]);export{K as default};
